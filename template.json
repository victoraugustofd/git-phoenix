{
  "init": {
  },
  "commands": [
    {
      "name": "release-candidate",
      "alias": "rc",
      "actions": [
        {
          "name": "start",
          "execution": [
            {
              "step": 1,
              "do": {
                "action": "createBranch",
                "parameters": {
                  "name": "",
                  "source": {
                    "name": "master"
                  },
                  "affix": {
                    "prefix": [
                      "release-candidate"
                    ],
                    "joinChar": "-"
                  }
                }
              }
            }
          ]
        },
        {
          "name": "finish",
          "execution": [
            {
              "step": 1,
              "do": {
                "action": "merge",
                "parameters": {
                  "target": [
                    {
                      "name": "master"
                    }
                  ]
                }
              }
            },
            {
              "step": 2,
              "do": {
                "action": "tag",
                "parameters": {
                  "reference": "branch",
                  "increment": "minor",
                  "target": [
                    {
                      "name": "master"
                    }
                  ]
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "hotfix",
      "alias": "hf",
      "actions": [
        {
          "name": "start",
          "execution": [
            {
              "step": 1,
              "do": {
                "action": "createBranch",
                "parameters": {
                  "name": "",
                  "source": {
                    "name": "master"
                  },
                  "affix": {
                    "prefix": [
                      "hotfix"
                    ],
                    "joinChar": "-"
                  }
                }
              }
            }
          ]
        },
        {
          "name": "finish",
          "execution": [
            {
              "step": 1,
              "do": {
                "action": "merge",
                "parameters": {
                  "target": [
                    {
                      "name": "master"
                    }
                  ]
                }
              }
            },
            {
              "step": 2,
              "do": {
                "action": "tag",
                "parameters": {
                  "reference": "branch",
                  "increment": "patch",
                  "target": [
                    {
                      "name": "master"
                    }
                  ]
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "feature",
      "alias": "ft",
      "actions": [
        {
          "name": "start",
          "execution": [
            {
              "step": 1,
              "do": {
                "action": "createBranch",
                "parameters": {
                  "name": "",
                  "source": {
                    "name": "release-candidate"
                  },
                  "affix": {
                    "prefix": [
                      "feature",
                      "$version"
                    ]
                  },
                  "pattern": {
                    "regex": "[A-Z0-9]+-\\d+",
                    "message": "Nome inválido",
                    "example": "CCTUGLRPF-123"
                  }
                }
              }
            }
          ]
        },
        {
          "name": "finish",
          "execution": [
            {
              "step": 1,
              "do": {
                "action": "mergeRequest",
                "parameters": {
                  "target": {
                    "name": "$originBranch"
                  },
                  "mrTemplate": ""
                }
              }
            },
            {
              "step": 2,
              "do": {
                "action": "deleteBranch",
                "parameters": {
                  "source": {
                    "name": "$self"
                  }
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "bug",
      "alias": "bg",
      "actions": [
        {
          "name": "start",
          "execution": [
            {
              "step": 1,
              "do": {
                "action": "createBranch",
                "parameters": {
                  "name": "",
                  "source": {
                    "name": "hotfix"
                  },
                  "affix": {
                    "prefix": [
                      "bug",
                      "$version"
                    ]
                  },
                  "pattern": {
                    "regex": "[A-Z0-9]+-\\d+",
                    "message": "Nome inválido",
                    "example": "CCTUGLRPF-123"
                  }
                }
              }
            }
          ]
        },
        {
          "name": "finish",
          "execution": [
            {
              "step": 1,
              "do": {
                "action": "mergeRequest",
                "parameters": {
                  "target": {
                    "name": "$originBranch"
                  },
                  "mrTemplate": ""
                }
              }
            },
            {
              "step": 2,
              "do": {
                "action": "deleteBranch",
                "parameters": {
                  "source": {
                    "name": "$self"
                  }
                }
              }
            }
          ]
        }
      ]
    }
  ]
}